# 安装与设置

> **⚠️ 免责声明**：本文档由 **GLM4.7** 自动生成，内容可能存在错误或不完整之处。**请以人工书写的官方文档为准**。

---

## 安装扩展

### 从 VS Code Marketplace 安装

1. 打开 VS Code
2. 点击左侧活动栏的 **扩展** 图标（或按 `Ctrl+Shift+X`）
3. 搜索 `Andrea Novel Helper` 或 `小说助手`
4. 点击 **安装** 按钮

### 从离线包安装

1. 下载扩展的 `.vsix` 文件
2. 在 VS Code 中打开扩展面板
3. 点击 **...** 菜单
4. 选择 **从 VSIX 安装...**
5. 选择下载的 `.vsix` 文件

## 打开工作区（必须先完成）

安装扩展后，**必须先打开一个工作区**（你的小说项目文件夹）：

1. 在 VS Code 中点击 **文件** > **打开文件夹**
2. 选择你的小说项目文件夹
3. 点击 **选择文件夹**

> ⚠️ **重要**：扩展的大部分功能都需要在打开工作区后才能使用。

## 首次启动工作区

打开工作区后，扩展会询问是否启用：

```
是否在当前工作区启用 Andrea Novel Helper？
（可随时在设置或命令面板切换）
```

- **启用本工作区** - 在当前工作区启用扩展功能
- **禁用本工作区** - 不在当前工作区使用此扩展

选择后，如果启用成功，扩展会开始初始化。

## 系统要求

### VS Code 版本

- 最低版本：VS Code 1.100.0 或更高

### 可选组件

某些功能需要额外安装：

| 功能 | 要求 | 说明 |
|------|------|------|
| AutoGit | Git | 需要安装 Git 并配置用户信息 |
| 原生输入模块 | Rust | 用于某些平台的输入模拟功能 |

### Git 配置（可选）

如果你计划使用 AutoGit 功能（自动版本管理），需要先安装 Git：

1. 下载 Git：https://git-scm.com/downloads
2. 安装 Git
3. （可选）配置用户信息：
   ```bash
   git config --global user.name "你的名字"
   git config --global user.email "你的邮箱"
   ```

> ⚠️ **注意**：即使不安装 Git，扩展的核心功能（角色管理、字数统计、大纲等）仍然可以正常使用。

## 验证安装

安装成功后，你应该能在 VS Code 中看到：

1. **左侧活动栏** 出现新的图标：
   - 📊 字数统计
   - 👥 角色
   - 📦 包管理
   - 📝 大纲
   - ☁️ 同步（WebDAV / AutoGit）

2. **底部状态栏** 出现额外状态信息

如果看不到这些图标，检查：
- 扩展是否已启用（检查扩展列表中是否亮起）
- 工作区是否已启用扩展
- 尝试重新加载 VS Code 窗口（`Ctrl+R` 或 `Cmd+R`）

## 下一步

安装完成后，建议阅读：

- [首次使用向导](./first-run.md) - 初始化你的小说项目
- [基础工作流程](./basic-workflow.md) - 了解如何开始写作

## 故障排除

### 扩展无法激活？

1. 检查 VS Code 版本是否满足要求
2. 查看扩展主机日志：帮助 > 切换开发人员工具 > 控制台
3. 尝试重新加载窗口：`Ctrl+R`（Windows/Linux）或 `Cmd+R`（macOS）

### 某些功能不工作？

1. 确认扩展已在当前工作区启用
2. 检查是否缺少可选组件（如 Git）
3. 查看输出面板：查看 > 输出 > 选择 "Andrea Novel Helper"

### 重新安装

如果需要完全重置扩展：

1. 禁用扩展
2. 卸载扩展
3. 删除工作区中的 `.vscode` 文件夹（可选）
4. 重新安装扩展
