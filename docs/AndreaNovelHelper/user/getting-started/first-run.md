# 首次使用向导

> **⚠️ 免责声明**：本文档由 **GLM4.7** 自动生成，内容可能存在错误或不完整之处。**请以人工书写的官方文档为准**。

---

## 自动检测与提示

当你首次在工作区中使用 Andrea Novel Helper 时，如果扩展检测到没有角色/词汇/敏感词等描述文件，会自动提示：

```
未检测到角色/词汇/敏感词等描述文件，是否运行项目初始化向导？
```

- **运行向导** - 启动项目初始化向导
- **忽略** - 跳过向导，稍后手动配置

## 运行初始化向导

你也可以随时手动运行向导：

1. 按 `Ctrl+Shift+P` 打开命令面板
2. 输入 `Andrea Novel Helper: 项目初始化向导`
3. 选择并运行

## 向导流程

### 1. Git 配置（如果安装了 Git）

如果检测到你安装了 Git 但未配置用户信息，向导会询问：

```
未检测到 Git 用户名/邮箱，是否现在配置？（稍后统一执行）
```

选择 **配置 Git 用户信息** 后：
- 输入 Git 用户名 (user.name)
- 输入 Git 邮箱 (user.email)
- 选择配置作用域：
  - **全局 (global)** - 对所有 Git 仓库生效
  - **仅当前仓库 (local)** - 仅对当前项目生效

### 2. Git 仓库初始化（如果需要）

如果当前目录没有 Git 仓库：

```
当前目录未初始化 Git，是否创建？（稍后执行）
```

- **初始化 Git 仓库** - 创建新的 Git 仓库
- **跳过** - 不创建仓库

### 3. 项目信息

向导会收集你的项目基本信息：

#### 项目名称
```
请输入项目名称（书籍名称）
默认值：当前文件夹名称
```

#### 项目描述
```
请输入项目描述
默认值：这是一个小说项目
```

#### 作者姓名
```
请输入作者姓名
默认值：Git 用户名或 "作者"
```

#### 项目简介（可选）
```
请输入项目简介
默认值：项目简介
```

#### 项目标签
```
请输入项目标签（用逗号分隔，如：小说,奇幻,冒险）
默认值：小说,创作
```

### 4. 创建示例结构

```
是否创建 novel-helper 示例角色/词库结构？（稍后执行）
```

选择 **创建示例结构与文件** 会创建：
- `novel-helper/character-gallery.json5` - 示例角色库
- `novel-helper/sensitive-words.json5` - 示例敏感词库
- `novel-helper/vocabulary.json5` - 示例词汇库
- `novel-helper/regex-patterns.json5` - 示例正则表达式库
- `novel-helper/roles.md` - Markdown 格式的角色库示例

### 5. 写作统计数据库版本控制

```
是否将写作统计数据库 (novel-helper/.anh-fsdb) 纳入版本控制？
```

- **不纳入（推荐）** - 避免提交个人写作行为数据
- **纳入版本控制** - 可随仓库同步多端写作进度

### 6. 忽略辅助目录（推荐全部勾选）

```
选择需要忽略的辅助目录（推荐全部勾选）
```

可选项：
- **忽略 .history（推荐）** - 在 `.gitignore` 中添加 `.history/`
- **忽略 .vscode（推荐）** - 在 `.wcignore` 中添加 `.vscode/`
- **忽略 .out-of-code-insights（推荐）** - 在 `.wcignore` 中添加 `.out-of-code-insights/`

### 7. 创建初始提交（如果有 Git 仓库）

```
是否创建初始提交？（稍后执行）
```

- **创建初始提交** - 创建第一个 Git 提交
- **跳过** - 不创建提交

### 8. 确认执行

向导会显示所有选择的摘要：

```
确认执行: 创建项目: XXX, 作者: XXX, 标签: XXX, ... ?
```

- **执行** - 开始执行所有配置
- **取消** - 取消向导

## 向导完成后

向导完成后，你的工作区将包含：

### 项目配置文件
- `anhproject.md` - 项目信息配置

### novel-helper 目录（如果选择创建）
```
novel-helper/
├── character-gallery.json5   # 角色库
├── sensitive-words.json5     # 敏感词库
├── vocabulary.json5          # 词汇库
├── regex-patterns.json5      # 正则表达式库
├── roles.md                  # Markdown 角色库
└── .anh-fsdb/               # 写作统计数据库
```

### Git 相关文件（如果选择）
- `.gitignore` - 包含数据库和辅助目录的忽略规则
- `.wcignore` - 字数统计的忽略规则

## 向导未完成

如果在向导过程中取消或退出：

```
项目初始化向导未完成，是否重新运行？
```

- **重新运行** - 再次启动向导
- **关闭** - 关闭提示

## 修改项目配置

向导创建的项目配置文件 `anhproject.md` 可以手动编辑：

```markdown
## 项目名称

我的小说

## 项目描述

这是一个关于...的故事

## 作者

张三

## 项目简介

这是项目的简介内容...

## 项目标签

小说,奇幻,冒险
```

## 下一步

项目初始化完成后，建议：

1. 添加你的角色到角色库
2. 创建章节文件开始写作
3. 配置 WebDAV 同步（如果需要）
4. 阅读[基础工作流程](./basic-workflow.md)
