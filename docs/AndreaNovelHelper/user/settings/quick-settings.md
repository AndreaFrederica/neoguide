# 快速设置

> **⚠️ 免责声明**：本文档由 **GLM4.7** 自动生成，内容可能存在错误或不完整之处。**请以人工书写的官方文档为准**。

---

快速设置提供对常用设置的便捷访问，无需打开完整的设置界面。

## 打开方式

按 `Ctrl+Shift+P` 打开命令面板，输入 `Andrea Novel Helper: 快速设置`。

## 可用设置

### 编辑器设置

#### 切换：自动换行

- **说明**: 启用/禁用编辑器自动换行
- **当前状态显示**: 显示当前模式

#### 设置：自动换行模式

- **可选值**:
  - `off` - 不自动换行
  - `on` - 按窗口宽度换行
  - `wordWrapColumn` - 在 wordWrapColumn 换行
  - `bounded` - 在窗口和 column 之间换行

#### 切换：智慧补齐括号

- **说明**: 启用/禁用自动补全符号对
- **默认**: 启用

#### 切换：智慧跳出括号/引号

- **说明**: 光标在闭合符号前按回车时跳出符号
- **默认**: 启用

#### 切换：智慧切段（Enter）

- **说明**: 段落末尾按回车时自动添加空行和缩进
- **默认**: 启用

#### 切换：段首缩进

- **说明**: 新段落是否自动缩进
- **默认**: 启用

#### 设置：段间空行数

- **可选值**: 0-6
- **默认**: 1

#### 切换：去尾空格

- **说明**: 保存时是否移除行尾空格
- **默认**: 启用

### 字体和缩进

#### 设置：缩进宽度

- **说明**: 设置编辑器缩进方式
- **选项**:
  - 使用空格：2
  - 使用空格：4
  - 使用空格：8
  - 使用制表符（Tab）

#### 管理：编辑器字体家族

- **说明**: 图形化管理编辑器字体
- **功能**: 可以为不同语言设置不同字体

#### 设置：编辑器字体大小

- **预设**: 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 32
- **自定义**: 可输入任意数字

### 字数统计

#### 切换：字数单位

- **说明**: 切换字数统计方式
- **选项**:
  - 不计标点（词计：CJK字数 + 英文单词）
  - 含标点（非空白字符）
  - 不含标点（非空白且排除标点）

#### 切换：统计计入粘贴

- **说明**: 粘贴文本是否计入写作统计
- **默认**: 禁用

#### 切换：速度单位

- **说明**: 写作速度显示单位
- **选项**: 字/分钟（cpm）或 字/小时（cph）

#### 切换：字数状态栏显示模式

- **选项**: 详细、半精简、精简

#### 管理：写作资源忽略 (.wcignore)

管理字数统计的忽略规则：

- **预制规则**: 常用忽略模式（如 `node_modules`、`.git` 等）
- **自定义规则**: 可添加自定义忽略模式
- **规则分类**: 常用规则和不常用规则分页显示

#### 打开 .wcignore

直接打开 `.wcignore` 文件进行编辑。

### 角色显示

#### 配置：当前文章角色显示

配置当前文档中角色的显示方式：

| 选项 | 说明 |
|------|------|
| 分组依据 | 按归属分组 / 按类型分组 / 不分组 |
| 遵循归属 | 是否使用角色的归属字段分组 |
| 遵循类型 | 是否使用角色的类型字段分组 |
| 第一级别分组 | 归属优先 或 类型优先 |
| 自定义分组 | 使用自定义分组规则 |
| 详情折行列数 | 设置角色属性详情的折行列数（5-200） |
| 允许角色展开详情 | 角色节点可展开查看属性 |
| 使用角色自带 svg 作为图标 | 角色对象含 svg 字段则优先使用 |
| 用角色颜色标记名称 | 名称前显示角色颜色方块 |
| 管理自定义分组规则 | 添加、编辑或删除规则 |

#### 配置：全部角色显示

配置全局角色库的显示方式。当启用"同步当前文章角色的显示设置"时，会跳转到当前文章角色配置。

| 选项 | 说明 |
|------|------|
| 同步当前文章角色的显示设置 | 读取 docRoles.* 配置 |
| 分组依据 | 按归属分组 / 按类型分组 / 不分组 |
| 遵循归属 | 是否使用角色的归属字段分组 |
| 遵循类型 | 是否使用角色的类型字段分组 |
| 第一级别分组 | 归属优先 或 类型优先 |
| 自定义分组 | 使用自定义分组规则 |
| 详情折行列数 | 设置角色属性详情的折行列数（5-200） |
| 允许角色展开详情 | 角色节点可展开查看属性 |
| 用角色颜色标记名称 | 名称前显示角色颜色方块 |
| 管理自定义分组规则 | 添加、编辑或删除规则 |

#### 自定义分组规则管理

图形化管理自定义分组规则：

- **添加新规则**: 输入分组名称、选择匹配类型、输入匹配模式
- **编辑规则**: 修改名称、匹配类型、匹配模式
- **删除规则**: 删除不需要的分组规则
- **重置为默认**: 恢复默认的自定义分组配置

**默认分组规则**：
- 词汇敏感词（按 type 匹配：词汇、敏感词、正则表达式）
- 主要角色（按 affiliation 匹配：主角、重要、主要）
- 配角（按 affiliation 匹配：配角、次要、其他）

### 其他设置

#### 配置：字数里程碑提醒

设置写作里程碑目标：

| 选项 | 说明 |
|------|------|
| 启用字数里程碑提醒 | 开启/关闭里程碑功能 |
| 编辑里程碑目标 | 设置里程碑字数（用逗号分隔） |
| 配置提醒类型 | 右下角提示（非阻塞）或 模态对话框（阻塞） |

默认里程碑：`1000, 5000, 10000, 20000, 50000, 100000`

#### 切换：Minimap（小地图）

- **说明**: 显示/隐藏代码小地图
- **默认**: 显示

#### 切换：Ctrl+滚轮快速缩放字体

- **说明**: 启用/禁用鼠标滚轮缩放字体
- **默认**: 禁用

#### 切换：智能分组锁

- **说明**: 启用/禁用标签组锁定功能
- **默认**: 启用

#### 切换：状态栏显示

- **说明**: 切换状态栏显示的详细程度
- **选项**: 详细 / 简略

#### 切换：ANH:Sync 简洁模式

- **说明**: 同步状态栏仅显示 "ANH:Sync"
- **默认**: 禁用

### 文档格式化

#### 立即排版全文

对当前文档应用格式化规则。

#### 立即排版（自动补段间空行）

格式化文档并自动补充段落间空行。

### 高级设置

#### 一键注入：Enter → Andrea（覆盖 MAIO）

覆盖 MAIO 扩展的 Enter 键绑定，使用 Andrea 的智能回车功能。

- 仅需执行一次
- 会添加用户级按键绑定
- 禁用 MAIO 的 Enter 绑定
- 启用 Andrea 的智能回车

## 使用方法

### 切换设置

对于布尔值设置（开/关）：
1. 执行对应的命令
2. 设置会切换状态
3. 立即生效

### 修改数值

对于数值设置：
1. 执行对应的命令
2. 输入新值
3. 确认修改

### 配置角色显示

1. 选择"配置当前文章角色显示"或"配置全部角色显示"
2. 在菜单中选择要修改的选项
3. 根据提示完成配置

### 管理自定义分组

1. 进入角色配置
2. 选择"管理自定义分组规则"
3. 添加、编辑或删除规则

## 快捷键

可以为常用设置设置快捷键：

```json
{
  "key": "ctrl+shift+alt+e",
  "command": "andrea.toggleSmartEnter"
}
```

## 命令列表

| 命令 ID | 说明 |
|---------|------|
| `andrea.quickSettings` | 打开快速设置主面板 |
| `andrea.toggleMinimap` | 切换小地图 |
| `andrea.toggleMouseWheelZoom` | 切换滚轮缩放 |
| `andrea.toggleStatusBarCompact` | 切换状态栏显示 |
| `andrea.toggleSmartTabGroupLock` | 切换智能分组锁 |
| `andrea.toggleWordWrap` | 切换自动换行 |
| `andrea.changeWordWrap` | 设置自动换行模式 |
| `andrea.toggleAutoPairs` | 切换自动补对 |
| `andrea.toggleSmartExit` | 切换智能跳出 |
| `andrea.toggleSmartEnter` | 切换智能回车 |
| `andrea.toggleIndentFirst` | 切换段首缩进 |
| `andrea.toggleTrimTrailing` | 切换去尾空格 |
| `andrea.changeBlankLines` | 设置段间空行数 |
| `andrea.changeIndentSize` | 设置缩进宽度 |
| `andrea.changeEditorFontSize` | 设置编辑器字体大小 |
| `andrea.toggleWordCountUnit` | 切换字数单位 |
| `andrea.togglePasteAll` | 切换计入粘贴 |
| `andrea.toggleWordCountSpeedUnit` | 切换速度单位 |
| `andrea.cycleWordCountStatusBarMode` | 切换字数状态栏显示模式 |
| `andrea.configureMilestones` | 配置字数里程碑 |
| `andrea.manageWcignore` | 管理 .wcignore |
| `andrea.openWcignore` | 打开 .wcignore |
| `andrea.configureDocRoles` | 配置当前文章角色显示 |
| `andrea.configureAllRoles` | 配置全部角色显示 |
| `andrea.injectEnterKeybindings` | 注入 Enter 键绑定 |
| `andrea.formatDocument` | 立即排版全文 |
| `andrea.formatDocument.addBlanks` | 立即排版（补空行） |

## 常见问题

### 命令找不到？

1. 确认扩展已启用
2. 检查工作区是否被禁用
3. 重新加载窗口

### 设置不生效？

1. 检查是否在正确的语言模式下
2. 确认设置优先级
3. 尝试重新加载窗口

### 如何恢复默认设置？

1. 打开 VS Code 设置
2. 搜索对应的设置项
3. 点击"重置为默认值"

## 相关功能

- [通用设置](./general-settings.md) - 所有可用设置
- [角色设置](./role-settings.md) - 角色配置详解
- [基础工作流程](../getting-started/basic-workflow.md) - 写作流程
