# å†™ä½œæ—¶é—´ç»Ÿè®¡é¢æ¿

> **âš ï¸ å…è´£å£°æ˜**ï¼šæœ¬æ–‡æ¡£ç”± **GLM4.7** è‡ªåŠ¨ç”Ÿæˆï¼Œå†…å®¹å¯èƒ½å­˜åœ¨é”™è¯¯æˆ–ä¸å®Œæ•´ä¹‹å¤„ã€‚**è¯·ä»¥äººå·¥ä¹¦å†™çš„å®˜æ–¹æ–‡æ¡£ä¸ºå‡†**ã€‚

---

å†™ä½œæ—¶é—´ç»Ÿè®¡é¢æ¿ç”¨äºè·Ÿè¸ªä½ çš„å†™ä½œæ—¶é—´ã€é€Ÿåº¦å’Œå­—æ•°å¢é•¿ã€‚æ”¯æŒä¼šè¯ç®¡ç†ã€é‡Œç¨‹ç¢‘æé†’ã€çƒ­åŠ›å›¾ç­‰åŠŸèƒ½ã€‚

## æ‰“å¼€æ–¹å¼

### å‘½ä»¤é¢æ¿

æŒ‰ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥ `Andrea Novel Helper: æ‰“å¼€å†™ä½œç»Ÿè®¡ä»ªè¡¨æ¿`ã€‚

### çŠ¶æ€æ 

ç‚¹å‡»çŠ¶æ€æ ä¸­çš„æ—¶é—´ç»Ÿè®¡å›¾æ ‡ã€‚

## åŠŸèƒ½æ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | è¯´æ˜ |
|------|------|
| **å®æ—¶é€Ÿåº¦è¿½è¸ª** | å½“å‰é€Ÿåº¦ã€å¹³å‡é€Ÿåº¦ã€å³°å€¼é€Ÿåº¦ï¼ˆCPM/CPHï¼‰ |
| **æ—¶é—´ç»Ÿè®¡** | ç´¯è®¡å†™ä½œæ—¶é—´ã€ä»Šæ—¥å†™ä½œæ—¶é—´ |
| **ä¼šè¯ç®¡ç†** | è‡ªåŠ¨è¿½è¸ªå†™ä½œä¼šè¯ï¼Œæ”¯æŒç©ºé—²æ£€æµ‹ |
| **é‡Œç¨‹ç¢‘æé†’** | è¾¾åˆ°å­—æ•°ç›®æ ‡æ—¶è‡ªåŠ¨æé†’ |
| **çƒ­åŠ›å›¾** | æœ€è¿‘ 52 å‘¨çš„å†™ä½œæ´»åŠ¨çƒ­åŠ›å›¾ |
| **ä»Šæ—¥åˆ†æ** | ä»Šæ—¥æ¯å°æ—¶ã€æ¯15åˆ†é’Ÿçš„å­—æ•°åˆ†å¸ƒ |
| **å¤§æ–‡ä»¶æ”¯æŒ** | è¿‘ä¼¼ç»Ÿè®¡æ¨¡å¼ï¼Œé¿å…é˜»å¡ |

## çŠ¶æ€æ æ˜¾ç¤º

### æ˜¾ç¤ºæ¨¡å¼

| æ¨¡å¼ | æ˜¾ç¤ºå†…å®¹ |
|------|----------|
| **è¯¦ç»†** (detailed) | `é€Ÿåº¦/å¹³å‡/å³°å€¼ CPM Â· ç´¯è®¡åˆ†é’Ÿ (mm:ss) Â· CJKå­—æ•° ROMAè¯æ•° æ€»å­—æ•° ğŸ–‹ï¸` |
| **åŠç²¾ç®€** (semi) | `é€Ÿåº¦ CPM Â· æ€»å­—æ•° ğŸ–‹ï¸` |
| **ç²¾ç®€** (compact) | `æ€»å­—æ•° ğŸ–‹ï¸` |

### çŠ¶æ€æŒ‡ç¤º

| å›¾æ ‡ | è¯´æ˜ |
|------|------|
| ğŸ–‹ï¸ | æ´»è·ƒå†™ä½œçŠ¶æ€ |
| ğŸ’¤ | ç©ºé—²çŠ¶æ€ |
| â‰ˆ | å¤§æ–‡ä»¶è¿‘ä¼¼æ¨¡å¼ï¼ˆå­—æ•°ä¸ºä¼°ç®—å€¼ï¼‰

### çŠ¶æ€æ æ‚¬åœä¿¡æ¯

æ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°æ®ï¼š
- å½“å‰é€Ÿåº¦ï¼ˆå­—/åˆ†é’Ÿã€å­—/å°æ—¶ï¼‰
- å¹³å‡é€Ÿåº¦ã€å³°å€¼é€Ÿåº¦
- ç´¯è®¡ç”¨æ—¶ï¼ˆåˆ†é’Ÿã€mm:ss æ ¼å¼ï¼‰
- å½“å‰ä¼šè¯æŒç»­æ—¶é—´
- ä¸­æ–‡å­—ç¬¦ã€è‹±æ–‡å•è¯
- ä¸‰ç§å­—æ•°ç»Ÿè®¡æ–¹å¼
- æ–‡ä»¶è·¯å¾„ã€æœ€åæ´»åŠ¨æ—¶é—´
- ä¼šè¯æ•°ã€çŠ¶æ€

## ä¼šè¯ç®¡ç†

### è‡ªåŠ¨ä¼šè¯è¿½è¸ª

ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†å†™ä½œä¼šè¯ï¼š

| äº‹ä»¶ | æ•ˆæœ |
|------|------|
| å¼€å§‹ç¼–è¾‘ | è‡ªåŠ¨å¼€å§‹æ–°ä¼šè¯ |
| ç©ºé—²è¶…æ—¶ | è‡ªåŠ¨ç»“æŸä¼šè¯ |
| åˆ‡æ¢æ–‡ä»¶ | ç»“æŸæ—§ä¼šè¯ï¼Œå¼€å§‹æ–°ä¼šè¯ |
| çª—å£å¤±ç„¦ | æš‚åœä¼šè¯è®¡æ—¶ |
| å…³é—­æ–‡ä»¶ | ç»“æŸä¼šè¯å¹¶ä¿å­˜ |

### ç©ºé—²æ£€æµ‹

| é…ç½® | è¯´æ˜ |
|------|------|
| `idleThresholdMs` | ç©ºé—²è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ 30 ç§’ï¼‰ |
| `exitIdleOn` | é€€å‡ºç©ºé—²çŠ¶æ€çš„æ¡ä»¶ |

#### é€€å‡ºç©ºé—²çŠ¶æ€é€‰é¡¹

| é€‰é¡¹ | è§¦å‘æ¡ä»¶ |
|------|----------|
| `text-change` | åªæœ‰æ–‡æœ¬å˜åŒ–æ—¶ |
| `window-focus` | çª—å£è·å¾—ç„¦ç‚¹æˆ–æ–‡æœ¬å˜åŒ–æ—¶ |
| `editor-change` | ç¼–è¾‘å™¨åˆ‡æ¢ã€çª—å£è·å¾—ç„¦ç‚¹æˆ–æ–‡æœ¬å˜åŒ–æ—¶ |

### æ¡¶èšåˆ

ç³»ç»Ÿå°†å†™ä½œæ—¶é—´åˆ†å‰²ä¸ºå›ºå®šå¤§å°çš„æ¡¶ï¼ˆé»˜è®¤ 60 ç§’ï¼‰ï¼Œç”¨äºï¼š

- è®¡ç®—å³°å€¼é€Ÿåº¦
- ç”Ÿæˆé€Ÿåº¦æ›²çº¿å›¾
- ç”Ÿæˆçƒ­åŠ›å›¾æ•°æ®

ç©ºé—²çŠ¶æ€ä¸‹ä¸ä¼šåˆ›å»ºæ–°æ¡¶ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚

## é€Ÿåº¦ç»Ÿè®¡

### ä¸‰ç§é€Ÿåº¦ç±»å‹

| ç±»å‹ | è¯´æ˜ |
|------|------|
| **å½“å‰é€Ÿåº¦** | ä½¿ç”¨æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œè€ƒè™‘æœ€è¿‘ 3 ä¸ªæ¡¶çš„åŠ æƒå¹³å‡ |
| **å¹³å‡é€Ÿåº¦** | æ€»å­—æ•° Ã· æ€»æ—¶é—´ |
| **å³°å€¼é€Ÿåº¦** | å•ä¸ªæ¡¶çš„æœ€é«˜é€Ÿåº¦ |

### é€Ÿåº¦å•ä½

| é…ç½® | è¯´æ˜ |
|------|------|
| `speedUnit: 'cpm'` | å­—/åˆ†é’Ÿ |
| `speedUnit: 'cph'` | å­—/å°æ—¶ |

## é‡Œç¨‹ç¢‘åŠŸèƒ½

### é‡Œç¨‹ç¢‘ç›®æ ‡

é…ç½®å­—æ•°ç›®æ ‡ï¼Œè¾¾åˆ°æ—¶è‡ªåŠ¨æé†’ï¼š

```json
{
  "AndreaNovelHelper.timeStats.milestone.targets": [
    1000, 2000, 5000, 10000, 20000, 50000, 100000
  ]
}
```

### æé†’ç±»å‹

| ç±»å‹ | è¯´æ˜ |
|------|------|
| `information` | å³ä¸‹è§’æç¤ºï¼ˆéé˜»å¡ï¼‰ |
| `modal` | æ¨¡æ€å¯¹è¯æ¡†ï¼ˆé˜»å¡ï¼‰ |

### é‡Œç¨‹ç¢‘æŒä¹…åŒ–

- å·²è¾¾æˆçš„é‡Œç¨‹ç¢‘ä¼šæŒä¹…åŒ–ä¿å­˜
- å³ä½¿å…³é—­ VS Code åé‡æ–°æ‰“å¼€ï¼Œä¸ä¼šé‡å¤æé†’
- æ¯ä¸ªæ–‡ä»¶ç‹¬ç«‹è®°å½•é‡Œç¨‹ç¢‘

## å¤§æ–‡ä»¶è¿‘ä¼¼æ¨¡å¼

### å·¥ä½œåŸç†

å¯¹äºå¤§æ–‡ä»¶ï¼ˆé»˜è®¤ > 64KBï¼‰ï¼Œå¯ç”¨è¿‘ä¼¼æ¨¡å¼ï¼š

1. **åˆå§‹åŒ–**ï¼šä½¿ç”¨å­—ç¬¦é•¿åº¦ Ã— 2 å¿«é€Ÿä¼°ç®—åˆå§‹å­—æ•°
2. **å¢é‡æ›´æ–°**ï¼šä»…è·Ÿè¸ªå­—ç¬¦å˜åŒ–é‡ï¼ˆå¢å‡ï¼‰
3. **å®šæœŸæ ¡å‡†**ï¼šæ¯éš”ä¸€æ®µæ—¶é—´æˆ–ä¸€å®šå˜åŒ–æ¬¡æ•°åç²¾ç¡®æ ¡å‡†

### é…ç½®é€‰é¡¹

| é…ç½® | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `largeFile.thresholdBytes` | å¯ç”¨è¿‘ä¼¼æ¨¡å¼çš„é˜ˆå€¼ | 65536 (64KB) |
| `largeFile.approximate` | æ˜¯å¦å¯ç”¨è¿‘ä¼¼æ¨¡å¼ | `true` |
| `largeFile.accurateEveryChanges` | æ¯ N æ¬¡å˜åŒ–ç²¾ç¡®æ ¡å‡† | 80 |
| `largeFile.accurateEveryMs` | æ¯ N æ¯«ç§’ç²¾ç¡®æ ¡å‡† | 60000 (60ç§’) |

### çŠ¶æ€æŒ‡ç¤º

ä½¿ç”¨ `â‰ˆ` ç¬¦å·æ ‡è¯†è¿‘ä¼¼æ¨¡å¼ï¼š

```
æ€»è®¡ â‰ˆ12345å­—ï¼ˆè¯è®¡ï¼‰ ğŸ–‹ï¸
```

### è¶…å¤§æ–‡ä»¶è­¦å‘Š

è¶…è¿‡ 50MB çš„æ–‡ä»¶ä¼šæç¤ºï¼š

> è¯¥å¤§æ–‡ä»¶å·²å¯ç”¨ TimeStats è¿‘ä¼¼ç»Ÿè®¡ï¼Œå…¶ä»–é«˜æˆæœ¬é«˜äº®åŠŸèƒ½å·²è¢«è·³è¿‡ã€‚

## ç²˜è´´ç»Ÿè®¡æ§åˆ¶

### æ˜¯å¦è®¡å…¥ç²˜è´´

| é…ç½® | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `includePasteInSpeed` | ç²˜è´´æ˜¯å¦è®¡å…¥é€Ÿåº¦ç»Ÿè®¡ | `false` |
| `includePasteInAddedCounters` | ç²˜è´´æ˜¯å¦è®¡å…¥æ–°å¢å­—æ•° | `true` |

### ç²˜è´´æ£€æµ‹

- å•æ¬¡ç²˜è´´ â‰¥ 32 å­—ç¬¦ï¼ˆå¯é…ç½®ï¼‰è§†ä¸ºç²˜è´´
- ç²˜è´´å†…å®¹ä¼šè¢«æ ‡è®°ï¼Œå¯é€‰æ‹©æ˜¯å¦è®¡å…¥ç»Ÿè®¡

## .wcignore æ”¯æŒ

### å¿½ç•¥è§„åˆ™

å¯ç”¨ `respectWcignore` åï¼š
- ç¬¦åˆ `.wcignore` è§„åˆ™çš„æ–‡ä»¶ä¸è®¡å…¥æ—¶é—´ç»Ÿè®¡
- å¿½ç•¥æ–‡ä»¶çš„å­—æ•°ä¼šå•ç‹¬èšåˆ

### é¢„åˆ¶è§„åˆ™

å¸¸ç”¨ç›®å½•é»˜è®¤å¿½ç•¥ï¼š
- `node_modules`, `.git`, `.vscode`, `.idea`
- `dist`, `build`, `out`

## å†™ä½œç»Ÿè®¡ä»ªè¡¨æ¿

### ä»ªè¡¨æ¿è§†å›¾

æ‰“å¼€ä»ªè¡¨æ¿æ˜¾ç¤ºï¼š

| åŒºåŸŸ | å†…å®¹ |
|------|------|
| **é¡¶éƒ¨ç»Ÿè®¡** | ç´¯è®¡ç”¨æ—¶ã€ä»Šæ—¥ç”¨æ—¶ã€ä»Šæ—¥å¹³å‡/å³°å€¼é€Ÿåº¦ |
| **é€Ÿåº¦æ›²çº¿å›¾** | å½“å‰æ–‡ä»¶çš„é€Ÿåº¦éšæ—¶é—´å˜åŒ– |
| **ä»Šæ—¥æŸ±çŠ¶å›¾** | ä»Šæ—¥ 24 å°æ—¶å­—æ•°åˆ†å¸ƒ |
| **çƒ­åŠ›å›¾** | æœ€è¿‘ 52 å‘¨æ¯æ—¥å†™ä½œæ´»åŠ¨ |
| **ä»Šæ—¥15åˆ†é’Ÿç²’åº¦** | ä»Šæ—¥æ¯ 15 åˆ†é’Ÿçš„å­—æ•°åˆ†å¸ƒ |

### çƒ­åŠ›å›¾

- æ¨ªè½´ï¼šæ˜ŸæœŸï¼ˆå‘¨ä¸€åˆ°å‘¨æ—¥ï¼‰
- çºµè½´ï¼šæ—¶é—´ï¼ˆæœ€è¿‘ 52 å‘¨ï¼‰
- é¢œè‰²ï¼šå­—æ•°è¶Šå¤šé¢œè‰²è¶Šæ·±

### ä»Šæ—¥åˆ†æ

- **æ¯å°æ—¶æŸ±çŠ¶å›¾**ï¼šæ˜¾ç¤ºä»Šæ—¥æ¯ä¸ªå°æ—¶çš„å­—æ•°
- **15åˆ†é’Ÿç²’åº¦**ï¼šæ›´ç»†ç²’åº¦çš„ä»Šæ—¥æ´»åŠ¨åˆ†å¸ƒ

## é…ç½®é€‰é¡¹

åœ¨ VS Code è®¾ç½®ä¸­æœç´¢ `AndreaNovelHelper.timeStats`ï¼š

### åŸºæœ¬è®¾ç½®

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `enabledLanguages` | ç»Ÿè®¡çš„è¯­è¨€ | `['markdown', 'plaintext']` |
| `idleThresholdMs` | ç©ºé—²è¶…æ—¶ï¼ˆæ¯«ç§’ï¼‰ | `30000` |
| `bucketSizeMs` | æ¡¶å¤§å°ï¼ˆæ¯«ç§’ï¼‰ | `60000` |
| `imeDebounceMs` | IME å»æŠ–æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ | `350` |

### çŠ¶æ€æ è®¾ç½®

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `statusBar.alignment` | å¯¹é½æ–¹å¼ | `left` |
| `statusBar.priority` | ä¼˜å…ˆçº§ | `100` |

### å¤§æ–‡ä»¶è®¾ç½®

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `largeFile.thresholdBytes` | å¤§æ–‡ä»¶é˜ˆå€¼ | `65536` |
| `largeFile.approximate` | å¯ç”¨è¿‘ä¼¼æ¨¡å¼ | `true` |
| `largeFile.accurateEveryChanges` | æ ¡å‡†é—´éš”ï¼ˆå˜åŒ–æ¬¡æ•°ï¼‰ | `80` |
| `largeFile.accurateEveryMs` | æ ¡å‡†é—´éš”ï¼ˆæ¯«ç§’ï¼‰ | `60000` |

### é‡Œç¨‹ç¢‘è®¾ç½®

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `milestone.enabled` | å¯ç”¨é‡Œç¨‹ç¢‘ | `true` |
| `milestone.targets` | ç›®æ ‡å­—æ•°æ•°ç»„ | `[1000, 2000, 5000, ...]` |
| `milestone.notificationType` | æé†’ç±»å‹ | `information` |

### å…¶ä»–è®¾ç½®

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `respectWcignore` | éµå¾ª .wcignore | `false` |
| `persistReadOnlySessions` | æŒä¹…åŒ–çº¯é˜…è¯»ä¼šè¯ | `false` |
| `includePasteInSpeed` | ç²˜è´´è®¡å…¥é€Ÿåº¦ | `false` |
| `includePasteInAddedCounters` | ç²˜è´´è®¡å…¥æ–°å¢å­—æ•° | `true` |
| `pasteThresholdChars` | ç²˜è´´é˜ˆå€¼å­—ç¬¦æ•° | `32` |
| `debug` | è°ƒè¯•æ¨¡å¼ | `false` |

## æ•°æ®å­˜å‚¨

### å­˜å‚¨ä½ç½®

å†™ä½œç»Ÿè®¡æ•°æ®ä¿å­˜åœ¨ `novel-helper/.anh-fsdb/writing-stats/` ç›®å½•ã€‚

### æ•°æ®ç»“æ„

```typescript
interface FileStats {
  totalMillis: number;        // ç´¯è®¡æ¯«ç§’æ•°
  charsAdded: number;         // æ–°å¢å­—ç¬¦æ•°
  charsDeleted: number;       // åˆ é™¤å­—ç¬¦æ•°
  firstSeen: number;          // é¦–æ¬¡çœ‹åˆ°æ—¶é—´
  lastSeen: number;           // æœ€åæ´»åŠ¨æ—¶é—´
  buckets: Bucket[];          // æ¡¶æ•°ç»„
  sessions: Session[];        // ä¼šè¯æ•°ç»„
  achievedMilestones?: number[]; // å·²è¾¾æˆçš„é‡Œç¨‹ç¢‘
}
```

## å¯¼å‡ºæ•°æ®

### å¯¼å‡º CSV

ä½¿ç”¨å‘½ä»¤ `Andrea Novel Helper: å¯¼å‡ºæ—¶é—´ç»Ÿè®¡ä¸º CSV`ï¼š

```csv
filepath,totalMillis,charsAdded,charsDeleted,lastActiveTime,sessionsCount,averageCPM
"D:\path\to\file.md",3600000,5000,100,1734567890000,5,83
```

å¯¼å‡ºæ–‡ä»¶ä¿å­˜åœ¨ `novel-helper/` ç›®å½•ã€‚

## å¸¸è§é—®é¢˜

### ç»Ÿè®¡ä¸å‡†ç¡®ï¼Ÿ

1. æ£€æŸ¥æ˜¯å¦å¯ç”¨äº†å¤§æ–‡ä»¶è¿‘ä¼¼æ¨¡å¼
2. ç¡®è®¤ç©ºé—²æ£€æµ‹è®¾ç½®æ˜¯å¦åˆé€‚
3. æ£€æŸ¥ `.wcignore` è§„åˆ™
4. å°è¯•æ‰‹åŠ¨åˆ·æ–°

### é‡Œç¨‹ç¢‘ä¸æé†’ï¼Ÿ

1. ç¡®è®¤é‡Œç¨‹ç¢‘åŠŸèƒ½å·²å¯ç”¨
2. æ£€æŸ¥ç›®æ ‡è®¾ç½®æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹å·²è¾¾æˆé‡Œç¨‹ç¢‘åˆ—è¡¨
4. ç¡®è®¤æé†’ç±»å‹è®¾ç½®

### ä»ªè¡¨æ¿ä¸æ˜¾ç¤ºæ•°æ®ï¼Ÿ

1. ç¡®è®¤å½“å‰æœ‰æ´»åŠ¨æ–‡æ¡£
2. æ£€æŸ¥æ–‡æ¡£è¯­è¨€æ˜¯å¦åœ¨å¯ç”¨åˆ—è¡¨ä¸­
3. ç­‰å¾…æ•°æ®åŠ è½½

### å¤§æ–‡ä»¶å¡é¡¿ï¼Ÿ

1. å¯ç”¨å¤§æ–‡ä»¶è¿‘ä¼¼æ¨¡å¼
2. å¢åŠ æ ¡å‡†é—´éš”
3. å‡å°æ¡¶å¤§å°
4. å…³é—­è°ƒè¯•æ¨¡å¼

## å‘½ä»¤åˆ—è¡¨

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `AndreaNovelHelper.openTimeStats` | æ‰“å¼€å†™ä½œç»Ÿè®¡ä»ªè¡¨æ¿ |
| `AndreaNovelHelper.exportTimeStatsCSV` | å¯¼å‡ºæ—¶é—´ç»Ÿè®¡ä¸º CSV |

## ç›¸å…³åŠŸèƒ½

- [å­—æ•°ç»Ÿè®¡](../statusbar/writing-stats.md) - å­—æ•°çŠ¶æ€æ 
- [å†™ä½œç»Ÿè®¡](../statusbar/writing-stats.md) - å†™ä½œç»Ÿè®¡çŠ¶æ€æ 
- [æ–‡ä»¶è¿½è¸ª](../getting-started/file-tracking.md) - æ–‡æ¡£ UUID ç®¡ç†
